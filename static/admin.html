<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>RPG - ADMIN PAINEL</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <header>
        RPG Online
        <button id="btnExtra" onclick="window.location.href='index.html'">Menu</button>
    </header>

    <nav>
        <a href="fichasADM.html">Fichas Publicas</a>
        <a href="historiaADM.html">Editar Historia</a>
    </nav>

    <div class="container">
        <h2>Este é o painel de ADM!</h2>
        <p>Escolha uma opção no menu para manejar o RPG.</p>
            <p style="font-size:0.9em;color:#ccc">Desenvolvido para teste local — lembre de rodar o servidor (node app.js).</p>
        </div>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", async () => {
        const username = localStorage.getItem("username");
        const isAdmin = localStorage.getItem("isAdmin"); // você define isso no login
        
        if (!username) {
            window.location.href = "login.html";
            return;
        }

        if (isAdmin !== "true") {
            alert("Acesso restrito ao administrador.");
            window.location.href = "index.html";
            return;
        }
    });
    </script> 

</body>
</html>
